@use '../../styles/mixins';

.wf-task-list,
.wf-bullet-list,
.wf-ordered-list {
  margin: var(--wf-block-gap-vertical) 0;
}

// 无序列表
.wf-bullet-list {
  padding-left: 1.5em;
  list-style: disc outside none;

  .wf-bullet-list {
    margin-block: 0;
    list-style: circle outside none;

  .wf-bullet-list {
      list-style: square outside none;
    }
  }
}

// 有序列表
.wf-ordered-list {
  padding-left: 1.5em;
  list-style: decimal outside none;
  
  .wf-ordered-list {
    margin-block: 0;
    list-style: lower-roman outside none;

  .wf-ordered-list {
      list-style: lower-latin outside none;
    }
  }
}

// 任务列表
.wf-task-list {
  padding-left: 0;
}

li.wf-list-item,
li.wf-task-list-item {
  @include mixins.wf-reset-edge-spacing;

  // 列表项内的段落和列表, 重置 margin 以避免嵌套时出现过大的间距
  p, ul, ol {
    margin: 0;
  }
}

// 列表项
li.wf-list-item {
  &::marker {
    color: hsl(var(--wf-color-text-secondary));
  }
}

// 任务列表项
li.wf-task-list-item {
  gap: 0.5em;
  width: 100%;
  display: flex;

  > div {
    flex: 1;
  }

  > p {
    overflow-x: hidden;
    word-break:break-all;
  }

  label {
    display: flex;
    position: relative;
    align-items: center;
    height: calc(var(--wf-line-height-default) * 1em);
  }

  input[type="checkbox"] {
    width: 0;
    height: 0;
    opacity: 0;
    position: absolute;
  }

  label span {
    width: 1em;
    height: 1em;
    position: relative;
    cursor: pointer;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 0.0625em solid hsl(var(--wf-color-text-quaternary));
    background-color: hsl(var(--wf-color-text-quaternary) / 10%);
    transition: all var(--wf-motion-duration-fast);
  }

  label input[type="checkbox"]:checked+span {
    opacity: 1;
    border-color: hsl(var(--wf-color-primary));
    background-color: hsl(var(--wf-color-primary));
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Crect width='16' height='16' fill='white'/%3E%3Cpath d='M12 5.5L7 11L4.5 8.5' stroke='black' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E") no-repeat center;
    mask-size: 100%;
    mask-mode: luminance;
  }
}
